<!DOCTYPE html>

<html lang="en-GB" class="corporate-ui">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta charset="utf-8">
  <noscript>
    <meta http-equiv="refresh" content="0;url=https://static.scania.com/vendors/components/pure-js/nonJS-browsers/1.0.0/nonJS-browsers.html">
  </noscript>

  <title>More</title>

  <script src="/dist/js/corporate-ui.js"></script>
</head>
<body class="scania ux-lib" ng-app="CorporateUI" ng-controller="App as app">

  <c-corporate-header site-name="More" site-url="/" ng-attr-items="{{app.topItems}}">
    <nav-item location="https://www.scania.com/world/#/" text="World Entry"></nav-item>
    <nav-item location="https://www.scania.com/group/en/" ng-attr-attrs="{{app.attrs}}">Scania Group</nav-item>
  </c-corporate-header>
    
  <c-main-content>

    <!-- <c-main-navigation more-text="{{app.moreText}}" ng-attr-primary-items="{{app.primaryItems}}" ng-attr-secondary-items="{{app.secondaryItems}}"> -->
    <c-main-navigation variation="2" more-text="{{app.moreText}}" items-data>
      <primary-items>
        <!-- <nav-item location="#/start" text="start"></nav-item> -->
      </primary-items>

      <secondary-items>
        <!-- <nav-item>
          <a href="#/profile">
            <span class="icon-user"></span>
          </a>
        </nav-item> -->
      </secondary-items>
    </c-main-navigation>

    <section>
      <div class="container">
        <h1>headline</h1>
        <p>paragraph</p>
        <button>Set fmp data - attr</button>
        <button class="button2">Set fmp data - prop</button>
        <button ng-click="app.primaryItems = app.itemsFmp">Set fmp data - angular</button>
        <c-fullscreen></c-fullscreen>
        <ul class="list-inline">
          <li ng-repeat="item in app.primaryItems" class="mt-3">
            <input type="text" name="item_{{$index}}" ng-model="item.text">
            <button ng-click="app.primaryItems.splice($index, 1)">x</button>
          </li>
          <li class="mt-3">
            <input type="text" name="item_new" ng-model="app.new.text">
            <button ng-click="app.primaryItems.push(app.new); app.new={}">+</button>
          </li>
        </ul>
        <button type="button" ng-click="app.update()">update</button>
      </div>
    </section>

  </c-main-content>

  <c-corporate-footer>
    <nav-item location="#/test">test</nav-item>
  </c-corporate-footer>

  <script src="/vendors/frameworks/angular/1.5.5/angular.min.js"></script>

  <script>
    var itemsFmp = [{"state":"dashboard","text":"Start","location":"#/","active":true},{"state":"fleetPosition.vehicle.map","text":"Fleet position","location":"#/positioning/fleet-position/map","active":false,"items":[{"state":"fleetPosition.vehicle.map","text":"Map","location":"#/positioning/fleet-position/map","active":false},{"state":"fleetPosition.vehicle.list","text":"Vehicles","location":"#/positioning/fleet-position/vehicle-list","active":false},{"state":"eventList","text":"Events","location":"#/positioning/fleet-position/event-list","active":false},{"state":"fleetPosition.geozone.list","text":"Geofence zones","location":"#/positioning/fleet-position/geozone/list","active":false},{"state":"fleetPosition.locations.list","text":"Locations","location":"#/positioning/fleet-position/locations","active":false},{"state":"settings.fleetPosition","text":"Settings","location":"#/settings/fleet-position","active":false}]},{"state":"servicePlanning.toDo","text":"Service planning","location":"#/service-planning/to-do","active":false,"items":[{"state":"servicePlanning.toDo","text":"To do","location":"#/service-planning/to-do","active":false},{"state":"servicePlanning.calendar","text":"Calendar","location":"#/service-planning/calendar","active":false},{"state":"servicePlanning.defect.list","text":"Defect reports","location":"#/service-planning/defect/list","active":false},{"state":"servicePlanning.occasion.list","text":"Service activities","location":"#/service-planning/occasion/list","active":false},{"state":"servicePlanning.workshop.history","text":"Workshop history","location":"#/service-planning/workshop/history","active":false}]},{"state":"messaging.messagingArchive","text":"Messages","location":"#/messaging/messaging-archive","active":false},{"state":"driverEvaluation.home","text":"Driver evaluation","location":"#/driver-evaluation/home","active":false,"items":[{"state":"driverEvaluation.ranking","text":"Result","location":"#/driver-evaluation/results","active":false},{"state":"driverEvaluation.fuelConsumption","text":"Fuel consumption","location":"#/driver-evaluation/fuel-consumption","active":false},{"state":"driverEvaluation.driverData","text":"Driver data","location":"#/driver-evaluation/driver-data","active":false}]},{"state":"vehiclePerformance.overview","text":"Vehicle performance","location":"#/vehicle-performance/overview","active":false,"items":[{"state":"vehiclePerformance.overview","text":"Overview","location":"#/vehicle-performance/overview","active":false},{"state":"vehiclePerformance.details","text":"Details","location":"#/vehicle-performance/details","active":false},{"state":"vehiclePerformance.compare","text":"Compare","location":"#/vehicle-performance/compare","active":false},{"state":"vehiclePerformance.environmentalReport","text":"Environmental report","location":"#/vehicle-performance/environmental-report","active":false},{"state":"vehiclePerformance.fuelReport","text":"Fuel report","location":"#/vehicle-performance/fuel-report","active":false}]},{"state":"accelerate.scania","text":"Accelerate Scania data","location":"#/accelerate/scania","active":false},{"state":"accelerate.open","text":"Accelerate open data","location":"#/accelerate/open","active":false}];

    angular.module('CorporateUI', [])
      .value('itemsFmp', itemsFmp)
      .directive('itemsData', itemsData)
      .controller('App', ['itemsFmp', App]);

    function App(itemsFmp) {
      this.moreText = 'More 2';
      this.new = {};
      this.attrs = {
        class: 'another-class',
        rel: 'some description'
      };

      this.topItems = [
        {
          text:'First', location:'#/First'
        }
      ];

      this.primaryItems = [
        {
          text:'First', location:'#/First', caption: 'First', active: true, classes: 'first-item',
          items:[
            { text:'First', location:'#/First/First', active: true },
            { text:'Second', location:'#/First/Second' },
            { text:'Third', location:'#/First/Third' },
            { text:'Fourth', location:'#/First/Fourth' },
            { text:'Fifth', location:'#/First/Fifth' },
            { text:'Sixth', location:'#/First/Sixth' }
          ]
        },
        {
          text:'Second', location:'', caption: 'Second', index: -2,
          items:[
            { text:'First', location:'#/Second/First' },
            { text:'Second', location:'#/Second/Second' },
            { text:'Third', location:'#/Second/Third' },
            { text:'Fourth', location:'#/Second/Fourth' },
            { text:'Fifth', location:'#/Second/Fifth' },
            { text:'Sixth', location:'#/Second/Sixth' }
          ]
        },
        {
          text:'Third', location:'#/Third', caption: 'Third', index: -1,
          items:[
            { text:'First', location:'#/Third/First' },
            { text:'Second', location:'#/Third/Second' },
            { text:'Third', location:'#/Third/Third' },
            { text:'Fourth', location:'#/Third/Fourth' },
            { text:'Fifth', location:'#/Third/Fifth' },
            { text:'Sixth', location:'#/Third/Sixth' }
          ]
        },
        {
          text:'Fourth', location:'#/Fourth', caption: 'Fourth', index: 1,
          items:[
            { text:'First', location:'#/Fourth/First' },
            { text:'Second', location:'#/Fourth/Second' },
            { text:'Third', location:'#/Fourth/Third' },
            { text:'Fourth', location:'#/Fourth/Fourth' },
            { text:'Fifth', location:'#/Fourth/Fifth' },
            { text:'Sixth', location:'#/Fourth/Sixth' }
          ]
        },
        {
          text:'Fifth', location:'#/Fifth', caption: 'Fifth', props: {
            onclick: function(e) { console.log('Event triggered from prop on:', e.currentTarget) },
            className: 'some-class',
          },
          items:[
            { text:'First', location:'#/Fifth/First' },
            { text:'Second', location:'#/Fifth/Second' },
            { text:'Third', location:'#/Fifth/Third' },
            { text:'Fourth', location:'#/Fifth/Fourth' },
            { text:'Fifth', location:'#/Fifth/Fifth' },
            { text:'Sixth', location:'#/Fifth/Sixth' }
          ]
        },
        {
          text:'Sixth', location:'#/Sixth', caption: 'Sixth', attrs: {
            onclick: '(function(t) { console.log("Event triggered from attr on:", t) }(this))',
            class: 'some-class',
          },
          items:[
            { text:'First', location:'#/Sixth/First' },
            { text:'Second', location:'#/Sixth/Second' },
            { text:'Third', location:'#/Sixth/Third' },
            { text:'Fourth', location:'#/Sixth/Fourth' },
            { text:'Fifth', location:'#/Sixth/Fifth' },
            { text:'Sixth', location:'#/Sixth/Sixth' }
          ]
        },
        {
          text:'Seventh', location:'#/Seventh', caption: 'Seventh', dropdown: true,
          items:[
            { text:'First', location:'#/Seventh/First' },
            { text:'Second', location:'#/Seventh/Second' },
            { text:'Third', location:'#/Seventh/Third' },
            { text:'Fourth', location:'#/Seventh/Fourth' },
            { text:'Fifth', location:'#/Seventh/Fifth' },
            { text:'Sixth', location:'#/Seventh/Sixth' }
          ]
        },
        {
          text:'Eighth', location:'#/Eighth', caption: 'Eighth',
          items:[
            { text:'First', location:'#/Eighth/First' },
            { text:'Second', location:'#/Eighth/Second' },
            { text:'Third', location:'#/Eighth/Third' },
            { text:'Fourth', location:'#/Eighth/Fourth' },
            { text:'Fifth', location:'#/Eighth/Fifth' },
            { text:'Sixth', location:'#/Eighth/Sixth' }
          ]
        },
        {
          text:'Ninth', location:'#/Ninth', caption: 'Ninth',
          items:[
            { text:'First', location:'#/Ninth/First' },
            { text:'Second', location:'#/Ninth/Second' },
            { text:'Third', location:'#/Ninth/Third' },
            { text:'Fourth', location:'#/Ninth/Fourth' },
            { text:'Fifth', location:'#/Ninth/Fifth' },
            { text:'Sixth', location:'#/Ninth/Sixth' }
          ]
        },
        {
          text:'Tenth', location:'#/Tenth', caption: 'Tenth',
          items:[
            { text:'First', location:'#/Tenth/First' },
            { text:'Second', location:'#/Tenth/Second' },
            { text:'Third', location:'#/Tenth/Third' },
            { text:'Fourth', location:'#/Tenth/Fourth' },
            { text:'Fifth', location:'#/Tenth/Fifth' },
            { text:'Sixth', location:'#/Tenth/Sixth' }
          ]
        },
        {
          text:'Eleventh', location:'#/Eleventh', caption: 'Eleventh',
          items:[
            { text:'First', location:'#/Eleventh/First' },
            { text:'Second', location:'#/Eleventh/Second' },
            { text:'Third', location:'#/Eleventh/Third' },
            { text:'Fourth', location:'#/Eleventh/Fourth' },
            { text:'Fifth', location:'#/Eleventh/Fifth' },
            { text:'Sixth', location:'#/Eleventh/Sixth' }
          ]
        },
        {
          text:'Twelfth', location:'#/Twelfth', caption: 'Twelfth',
          items:[
            { text:'First', location:'#/Twelfth/First' },
            { text:'Second', location:'#/Twelfth/Second' },
            { text:'Third', location:'#/Twelfth/Third' },
            { text:'Fourth', location:'#/Twelfth/Fourth' },
            { text:'Fifth', location:'#/Twelfth/Fifth' },
            { text:'Sixth', location:'#/Twelfth/Sixth' }
          ]
        },
        {
          text:'Thirteenth', location:'#/Thirteenth', caption: 'Thirteenth',
          items:[
            { text:'First', location:'#/Thirteenth/First' },
            { text:'Second', location:'#/Thirteenth/Second' },
            { text:'Third', location:'#/Thirteenth/Third' },
            { text:'Fourth', location:'#/Thirteenth/Fourth' },
            { text:'Fifth', location:'#/Thirteenth/Fifth' },
            { text:'Sixth', location:'#/Thirteenth/Sixth' }
          ]
        },
        {
          text:'Fourteenth', location:'#/Fourteenth', caption: 'Fourteenth',
          items:[
            { text:'First', location:'#/Fourteenth/First' },
            { text:'Second', location:'#/Fourteenth/Second' },
            { text:'Third', location:'#/Fourteenth/Third' },
            { text:'Fourth', location:'#/Fourteenth/Fourth' },
            { text:'Fifth', location:'#/Fourteenth/Fifth' },
            { text:'Sixth', location:'#/Fourteenth/Sixth' }
          ]
        },
        {
          text:'Fifteenth', location:'#/Fifteenth', caption: 'Fifteenth',
          items:[
            { text:'First', location:'#/Fifteenth/First' },
            { text:'Second', location:'#/Fifteenth/Second' },
            { text:'Third', location:'#/Fifteenth/Third' },
            { text:'Fourth', location:'#/Fifteenth/Fourth' },
            { text:'Fifth', location:'#/Fifteenth/Fifth' },
            { text:'Sixth', location:'#/Fifteenth/Sixth' }
          ]
        },
        {
          text:'Sixteenth', location:'#/Sixteenth', caption: 'Sixteenth',
          items:[
            { text:'First', location:'#/Sixteenth/First' },
            { text:'Second', location:'#/Sixteenth/Second' },
            { text:'Third', location:'#/Sixteenth/Third' },
            { text:'Fourth', location:'#/Sixteenth/Fourth' },
            { text:'Fifth', location:'#/Sixteenth/Fifth' },
            { text:'Sixth', location:'#/Sixteenth/Sixth' }
          ]
        },
        {
          text:'Seventeenth', location:'#/Seventeenth', caption: 'Seventeenth',
          items:[
            { text:'First', location:'#/Seventeenth/First' },
            { text:'Second', location:'#/Seventeenth/Second' },
            { text:'Third', location:'#/Seventeenth/Third' },
            { text:'Fourth', location:'#/Seventeenth/Fourth' },
            { text:'Fifth', location:'#/Seventeenth/Fifth' },
            { text:'Sixth', location:'#/Seventeenth/Sixth' }
          ]
        },
        {
          text:'Eighteenth', location:'#/Eighteenth', caption: 'Eighteenth',
          items:[
            { text:'First', location:'#/Eighteenth/First' },
            { text:'Second', location:'#/Eighteenth/Second' },
            { text:'Third', location:'#/Eighteenth/Third' },
            { text:'Fourth', location:'#/Eighteenth/Fourth' },
            { text:'Fifth', location:'#/Eighteenth/Fifth' },
            { text:'Sixth', location:'#/Eighteenth/Sixth' }
          ]
        },
        {
          text:'Nineteenth', location:'#/Nineteenth', caption: 'Nineteenth',
          items:[
            { text:'First', location:'#/Nineteenth/First' },
            { text:'Second', location:'#/Nineteenth/Second' },
            { text:'Third', location:'#/Nineteenth/Third' },
            { text:'Fourth', location:'#/Nineteenth/Fourth' },
            { text:'Fifth', location:'#/Nineteenth/Fifth' },
            { text:'Sixth', location:'#/Nineteenth/Sixth' }
          ]
        },
        {
          text:'Twentieth', location:'#/Twentieth', caption: 'Twentieth',
          items:[
            { text:'First', location:'#/Twentieth/First' },
            { text:'Second', location:'#/Twentieth/Second' },
            { text:'Third', location:'#/Twentieth/Third' },
            { text:'Fourth', location:'#/Twentieth/Fourth' },
            { text:'Fifth', location:'#/Twentieth/Fifth' },
            { text:'Sixth', location:'#/Twentieth/Sixth' }
          ]
        }
      ];

      this.primaryItems.map(function(item) {
        item.items.push({ template:'<c-fullscreen></c-fullscreen>', classes:'pull-right hidden-sm hidden-xs' })
      });

      this.secondaryItems = [
        {
          text:'First', location:'#/First'
        },
        {
          text:'Second',
          items:[
            { text:'First', location:'#/end/First' },
            { text:'Second', location:'#/end/Second' },
            { text:'Third', location:'#/end/Third' },
            { text:'Fourth', location:'#/end/Fourth' },
            { text:'Fifth', location:'#/end/Fifth' },
            { text:'Sixth', location:'#/end/Sixth' }
          ]
        },
        { template:'<c-fullscreen></c-fullscreen>', classes: 'pull-right hidden-sm hidden-xs' }
      ];

      this._primaryItems = this.primaryItems;
      this._secondaryItems = this.secondaryItems;

      this.primaryItems = [];
      this.secondaryItems = [];

      this.primaryItems = this._primaryItems;
      this.secondaryItems = this._secondaryItems;

      this.itemsFmp = itemsFmp;

      this.update = update;
    }

    function update() {
      document.querySelector('c-main-navigation').primaryItems = this.primaryItems;
    }

    function itemsData() {
      return {
        restrict: 'A',
        link: function(scope, el, attrs) {
          scope.$watch("app.primaryItems",function(newValue, oldValue) {
            el[0].primaryItems = scope.app.primaryItems;
          });
          scope.$watch("app.secondaryItems",function(newValue, oldValue) {
            el[0].secondaryItems = scope.app.secondaryItems;
          });
        }
      }
    }

    document.querySelector('section button').onclick = function(e) {
      document.querySelector('c-main-navigation').setAttribute('primary-items', JSON.stringify(itemsFmp));
    }

    document.querySelector('section .button2').onclick = function(e) {
      document.querySelector('c-main-navigation').primaryItems = itemsFmp;
    }
  </script>
</body>
</html>