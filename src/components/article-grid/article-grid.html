
<!--
`c-article-grid` displays a grid of tiles representing for example articles. Acts as a listing for editorial / features content. Places emphasis on visual to create a personal, human and premium feel. Includes article title and category, with excerpt shown on hover. 

This component uses `c-article-item`-component to define each tile. The size of the tile is controlled by setting the amount of cols and rows it should consist of.


@dev

#### Todos:
- Original component is meant to dynamamically pull articles from the editorial page
- Implement Ajax-data.
- Variations
- Height/width?
- Responsive

-->

<link rel="import" href="variation-1.html">

<dom-module id="c-article-grid">
  <template>
    <div class="row">
      <content></content>
    </div>
  </template>

  <script>
    Polymer({
      is: 'c-article-grid'
    })
  </script>
</dom-module>

<!--  -->
<dom-module id="c-article-item">
  <template>
    <style>
      :host {
        [class^="col-"] {
          padding:0;
        }
        .row-1 {
          height:90px;
        }
        .row-2 {
          height:180px;
        }
        .row-3 {
          height:270px;
        }
        .row-4 {
          height:360px;
        }
        .row-5 {
          height:450px;
        }
        .row-6 {
          height:540px;
        }
        .row-7 {
          height:630px;
        }
        .row-8 {
          height:720px;
        }
        .row-9 {
          height:810px;
        }
        .row-10 {
          height:900px;
        }
        .row-11 {
          height:990px;
        }
        .row-12 {
          height:1080px;
        }
        .img-overlay {
          position: relative;
          width:100%;
          height:100%;
          background-position: center center;
          background-size: cover;
          -webkit-transition: transform 1s ease;
          -moz-transition: transform 1s ease;
          -o-transition: transform 1s ease;
          -ms-transition: transform 1s ease;
          transition: transform 1s ease;

        }
        .article-link {
          display:block;
          overflow:hidden;
          width:100%;
          height:100%;
          &.focus {
            .img-overlay {
              max-width: 105%;
              transform: scale(1.05);
            }
            .article-container {
              background:rgba(0,0,0,0.5);
            }
            .frontside {
              display: none;
            }
            .backside {
              display:block;
            }

          }
          .subtitle {
            text-transform: none;
            font-family: 'Scania Sans';
          }
          .backside {
            display:none;
          }
          .cta-link {
            text-transform: uppercase;
            color:#fff;
            &:hover {
              text-decoration: underline;
            }
          }
        }
        .article-content {
          position: absolute;
          top: 0;
          bottom: 0;
          right: 0;
          left: 0;
          text-align: center;
          overflow: hidden;

        }
        .article-container {
          display: table;
          width: 100%;
          height: 100%;
          -webkit-transition: background 0.5s ease;
          -moz-transition: background 0.5s ease;
          -o-transition: background 0.5s ease;
          -ms-transition: background 0.5s ease;
          transition: background 0.5s ease;
        }
        .article-caption {
          display: table-cell;
          float: none;
          width: 100%;
          height: 100%;
          vertical-align: middle;
          padding: 0 10%;
          
        }
        ::content {
          h1, h2, h3, h4, h5, h6, p, a {
            color:#fff;
          }
          p {
            font-size: 1em;
          }
        }
      }
    </style>

    <div class$="col-md-{{x}} row-{{y}}">
      <a href="#" class$="article-link {{_isFocus(_focus)}}" on-mouseover="_hoverIn" on-mouseout="_hoverOut">
        <div class="img-overlay" style$="background-image:url('{{img}}');">
        </div>
        <div class="article-content">
          <div class="article-container">
            <div class="article-caption">
              <h2 class="frontside">{{title}}</h2>
              <p class="frontside subtitle">{{subtitle}}</p>
              <span class="backside">
                <content></content>
                <span class="cta-link">Read more</span>
              </span>
            </div>
          </div>
        </div>
      </a>
    </div>
      
  </template>

  <script>
    Polymer({
      is: 'c-article-item',
      properties: {
        x: {
          type: Number,
          value: 1,
        },
        y: {
          type: Number,
          value: 1,
        },
        img: String,
        _focus: {
          type: Boolean,
          value: false
        },
        fullbleed: {
          type: Boolean,
          value: true
        }
      },
      _isFocus: function(arg) {
        return arg ? "focus" : "";
      },
      _hoverIn: function() {
        this._focus = true;
      },
      _hoverOut: function() {
        this._focus = false;
      }
    })  
  </script>
</dom-module>
